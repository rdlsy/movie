(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),l=a.n(c),s=a(11),i=(a(58),a(59),a(60),a(2)),o=a(5);a(61),a(62);var u=function(e){var t=e.open,a=e.closeMenu;return r.a.createElement("aside",{className:t?"Aside open":"Aside"},r.a.createElement("div",{className:"Inner"},r.a.createElement("button",{type:"button",className:"close",onClick:a},"\ub2eb\uae30"),r.a.createElement("nav",{className:"Nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"\ud648")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/search"},"\uac80\uc0c9"))))))};var m=function(e){var t=e.history,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement("header",{className:"Header"},r.a.createElement("button",{type:"button",className:"MenuBtn",onClick:function(){return i(!l)}},r.a.createElement("span",null)),r.a.createElement("h1",{className:"Logo"},r.a.createElement("a",{href:"/"},"\ub85c\uace0")),r.a.createElement(s.b,{to:"/search",className:"SearchBtn"}),r.a.createElement(u,{history:t,open:l,closeMenu:function(){return i(!l)}}))};a(67);var p=function(e){var t=e.children;return r.a.createElement("section",{className:"Content"},t)};a(68);var d=function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"Address"},r.a.createElement("span",null,"\uc11c\uc6b8\uc2dc \ub178\uc6d0\uad6c \ub3d9\uc77c\ub85c COPYRIGHT\u24d2 (\uc6b0 01753)"),r.a.createElement("span",null,"\ub300\ud45c\uc804\ud654\xa0\xa01234-5678\xa0\xa0\uc774\uba54\uc77c\xa0\xa0lsy_65@naver.com"),r.a.createElement("span",null,"\ub300\ud45c\uc790\xa0\uc774\uc138\uc601")))},f=a(4),E=a.n(f),v=a(12),h=a(15),b=a(26),N=a.n(b),y="https://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",k="664383b11fdaa853a4884a63b0ae7cc4",w="http://api.koreafilm.or.kr/openapi-data2/wisenut/search_api/search_json2.jsp?collection=kmdb_new2",g="229UV0UP2N545R3W7SN2",O="https://www.filecity.co.kr/module/top100_test.php",j="/v1/search/movie.json",S="EgjFJMrWyacJbfqSAok0",x="QVIHlzP0Ba",C=new Date,_=new FormData;_.append("tab","top100"),_.append("tab2","BD_ALL"),_.append("s_value",""),_.append("no_adult",0),_.append("view","post"),_.append("limit",20),_.append("no_overlap",0),_.append("down_chk",0),_.append("sale",0),_.append("sale2",0),_.append("year",0),_.append("poster_chk",0);var L=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),alert(e.t0.msg),e.abrupt("return",{data:null});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post(t,a).then((function(e){return JSON.stringify(e,null,2),e.data.list}));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),alert(e.t0.msg),e.abrupt("return",{data:null});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(E.a.mark((function e(t,a,n,r){var c,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(t,{params:{query:r,display:20},headers:{"X-Naver-Client-Id":a,"X-Naver-Client-Secret":n}});case 2:return c=e.sent,l=c.data.items,console.log(l),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),D={fetchData:function(){return L("".concat(y,"?key=").concat(k,"&targetDt=").concat(function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate()-1;return a<10&&(a="0"+a),n<10&&(n="0"+n),t+""+a+n}(C)))},fetchPoster:function(e){return L("".concat(w,"&detail=Y&title=").concat(e,"&type=\uadf9\uc601\ud654&ServiceKey=").concat(g))},fetchRankCity:function(){return I("".concat(O),_)},fetchMovie:function(e){return M(j,S,x,e)}};var A=function(e){var t=e.movie,a=e.showPopup,n=t.idx,c=t.name,l=t.imgSrc,s=t.cate,i=t.url;return r.a.createElement("div",{onClick:function(){return function(e,t){a(e,t)}(n,i)}},r.a.createElement("img",{src:l,alt:c}),r.a.createElement("dl",{className:"SliderItem"},r.a.createElement("dt",null,c),r.a.createElement("dd",null,s)))},P=a(49),B=a.n(P);a(102);var R=function(e){var t=e.closePopup,a=e.info,n="https://www.filecity.co.kr/#idx=".concat(a.idx);return r.a.createElement("div",{className:"MovieView"},r.a.createElement("p",{className:"view_title"},"1\ubd84 \ubbf8\ub9ac\ubcf4\uae30"),r.a.createElement("button",{type:"button",onClick:t,className:"close"},"\ub2eb\uae30"),r.a.createElement("div",{className:"Inner"},r.a.createElement("video",{controls:!0,width:"100%"},r.a.createElement("source",{src:a.url,type:"video/mp4"})),r.a.createElement(s.b,{to:n,className:"goLink",target:"_blank"},"\ud30c\uc77c\uc2dc\ud2f0 \uc774\ub3d9")))};var F=function(e){var t=e.data,a=Object(n.useState)((function(){var e=[];t.map((function(t,a){return e.push({id:a+1,idx:t.idx,name:t.real_title,imgSrc:t.main_img,cate:t.cate_h,url:t.url_1min}),e}));var a=e.filter((function(e){return e.name}));return a=a.splice(0,10)})),c=Object(o.a)(a,1)[0],l={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1175,settings:{slidesToShow:3}},{breakpoint:540,settings:{slidesToShow:2}}]},s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)({idx:"",url:""}),d=Object(o.a)(p,2),f=d[0],E=d[1],v=Object(n.useCallback)((function(e,t){m(!u),E({idx:e,url:t})}),[u]),h=Object(n.useCallback)((function(){m(!u)}),[u]);return r.a.createElement("div",{className:"SliderList"},r.a.createElement(B.a,l,c.map((function(e){return r.a.createElement(A,{key:e.id,movie:e,showPopup:v})}))),u&&r.a.createElement(R,{info:f,closePopup:h}))};a(103);function T(){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchRankCity();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(h.a)({promiseFn:T}),t=e.data,a=e.error;return e.isLoading?r.a.createElement("div",null):a?r.a.createElement("div",null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"):r.a.createElement("article",{className:"Slider"},r.a.createElement("div",{className:"SliderWrap"},r.a.createElement(F,{data:t})))};var J=function(e){var t,a,n=e.movie,c=e.history,l=n.id,s=n.name,i=n.rankOldAndNew,o=n.rankInten,u=n.audiCnt,m=Math.abs(o);return r.a.createElement("li",{onClick:function(){return function(e){c.push("/search?title=".concat(e))}(n.name)}},r.a.createElement("span",{className:"Title"},l+".",r.a.createElement("span",{className:"Name"},s),r.a.createElement("span",{className:(t=i,a=o,"NEW"===t?"New":a<0?"Down":a>0?"Up":"Minus")},0!==m?m:"")),r.a.createElement("span",{className:"Count"},u,"\uba85"))};var q=function(e){var t=e.rank,a=e.history,c=Object(n.useState)((function(){var e=[];return t.map((function(t,a){return e.push({id:a+1,name:t.movieNm,rankOldAndNew:t.rankOldAndNew,rankInten:t.rankInten,audiCnt:t.audiCnt}),e})),e})),l=Object(o.a)(c,1)[0];return r.a.createElement("ol",{className:"List"},l.map((function(e,t){return r.a.createElement(J,{key:t,movie:e,history:a})})))};a(104);function Y(){return $.apply(this,arguments)}function $(){return($=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchData();case 2:return t=e.sent,a=t.data.boxOfficeResult.dailyBoxOfficeList,console.log(t),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(e){var t=e.history,a=Object(h.a)({promiseFn:Y}),n=a.data,c=a.error,l=a.isLoading;return c?r.a.createElement("div",null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):r.a.createElement("article",{className:"LiveRank"},r.a.createElement("div",{className:"inner"},r.a.createElement("h2",{className:"SubTitle"},"\uc2e4\uc2dc\uac04\ub7ad\ud0b9 ",r.a.createElement("span",null,"(\uc77c\ubcc4 \ubc15\uc2a4\uc624\ud53c\uc2a4)")),r.a.createElement("div",{className:"LiveRankWrap"},l?r.a.createElement("div",{className:"Loading"},r.a.createElement("span",{className:"l1"}),r.a.createElement("span",{className:"l2"}),r.a.createElement("span",{className:"l3"})):r.a.createElement(q,{rank:n,history:t}))))};var V=function(e){var t=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{history:t}),r.a.createElement(p,null,r.a.createElement(H,null),r.a.createElement(U,{history:t})),r.a.createElement(d,null))},Q=a(51),X=a.n(Q);var z=function(e){var t=e.onInsert,a=e.history,c=e.query,l=Object(n.useState)(""),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useRef)(),p=Object(n.useCallback)((function(e){u(e.target.value)}),[]),d=Object(n.useCallback)((function(e){e.preventDefault(),i&&t(i)}),[t,i]);return Object(n.useEffect)((function(){c.title&&u(c.title),m.current.focus()}),[c]),r.a.createElement("div",{className:"SearchWrap"},r.a.createElement("button",{type:"button",className:"BackBtn",onClick:function(){a.push("/")}},r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("form",{onSubmit:d},r.a.createElement("input",{type:"text",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.",onChange:p,value:i,ref:m}),r.a.createElement("button",{type:"submit"},"\uac80\uc0c9")))};var G=function(e){var t=e.movie,a=t.title,n=t.posters,c=t.type,l=t.nation,s=t.runtime,i=t.repRlsDate,o=t.titleEng,u=t.prodYear,m=t.rating,p=t.company,d=t.directors,f=t.actors,E=n.split("|")[0],v=d.director[0].directorNm,h=f.actor.splice(0,5),b=a.replaceAll(" !HS ","");b=b.replaceAll(" !HE ","");var N=i.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3");return r.a.createElement("div",{className:"Movie"},r.a.createElement("div",{className:"Inner"},r.a.createElement("div",{className:"Movie_Title"},b,r.a.createElement("span",null,o+" \xb7 "+u+"\ub144")),r.a.createElement("div",{className:"Movie_Info"},r.a.createElement("ul",{className:"Movie_Info_List"},r.a.createElement("li",null,c," \xb7 ",r.a.createElement("span",null,m)," \xb7 ",l+" \xb7 "+s+"\ubd84"),r.a.createElement("li",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"\uac1c\ubd09\uc77c"),r.a.createElement("dd",null,N))),r.a.createElement("li",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"\uc81c\uc791\uc0ac"),r.a.createElement("dd",null,p))),r.a.createElement("li",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"\uac10\ub3c5"),r.a.createElement("dd",null,v))),r.a.createElement("li",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"\ucd9c\uc5f0"),r.a.createElement("dd",null,h.map((function(e,t){return r.a.createElement("span",{key:t},e.actorNm)})))))),r.a.createElement("figure",{className:"Movie_Poster"},r.a.createElement("img",{src:E||"/movie/img/noimage.gif",alt:b})))))};function K(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.movie,e.next=3,D.fetchPoster(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){var t=e.movie,a=Object(h.a)({promiseFn:K,movie:t,watch:t}),n=a.data,c=a.error;return a.isLoading?r.a.createElement("div",{className:"Loading"},r.a.createElement("span",{className:"l1"}),r.a.createElement("span",{className:"l2"}),r.a.createElement("span",{className:"l3"})):c?r.a.createElement("div",null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"):r.a.createElement(r.a.Fragment,null,0===n.Data[0].TotalCount?r.a.createElement("div",{className:"Empty"},"\uac80\uc0c9\uacb0\uacfc \uc5c6\uc74c"):n.Data[0].Result.map((function(e,t){return r.a.createElement(G,{key:t,movie:e})})))};a(107);var te=function(e){var t=e.location,a=e.history,c=Object(n.useState)(null),l=Object(o.a)(c,2),s=l[0],i=l[1],u=Object(n.useCallback)((function(e){i(e)}),[]),m=X.a.parse(t.search,{ignoreQueryPrefix:!0});return Object(n.useEffect)((function(){m&&i(m.title),s&&u(s)}),[m,s,u]),r.a.createElement("section",{className:"SearchArea"},r.a.createElement(z,{onInsert:u,history:a,query:m}),s?r.a.createElement(ee,{movie:s}):"")};a(108);var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:V}),r.a.createElement(i.a,{path:"/search",component:te})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s.a,{basename:"/search_movie"},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a(109)},58:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.a50baa29.chunk.js.map